"use strict";
var AlbumRepository = require("./../repositories/AlbumRepository");
var AlbumBusiness = (function () {
    function AlbumBusiness() {
        this._albumRepository = new AlbumRepository();
    }
    AlbumBusiness.prototype.create = function (item, callback) {
        this._albumRepository.create(item, callback);
    };
    AlbumBusiness.prototype.delete = function (_id, callback) {
        this._albumRepository.delete(_id, callback);
    };
    AlbumBusiness.prototype.findById = function (_id, callback) {
        this._albumRepository.findById(_id, callback);
    };
    AlbumBusiness.prototype.retrieve = function (callback) {
        this._albumRepository.retrieve(callback);
    };
    AlbumBusiness.prototype.update = function (_id, item, callback) {
        var _this = this;
        this._albumRepository.findById(_id, function (err, res) {
            if (err) {
                callback(err, res);
            }
            else {
                _this._albumRepository.update(res._id, item, callback);
            }
        });
    };
    return AlbumBusiness;
}());
Object.seal(AlbumBusiness);
module.exports = AlbumBusiness;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS9idXNpbmVzcy9BbGJ1bUJ1c2luZXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxJQUFPLGVBQWUsV0FBVyxtQ0FBbUMsQ0FBQyxDQUFDO0FBRXRFO0lBR0k7UUFDSSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztJQUNsRCxDQUFDO0lBRUQsOEJBQU0sR0FBTixVQUFPLElBQWlCLEVBQUUsUUFBMkM7UUFDakUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELDhCQUFNLEdBQU4sVUFBTyxHQUFXLEVBQUUsUUFBMkM7UUFDM0QsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVELGdDQUFRLEdBQVIsVUFBUyxHQUFXLEVBQUUsUUFBbUQ7UUFDckUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELGdDQUFRLEdBQVIsVUFBUyxRQUEyQztRQUNoRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCw4QkFBTSxHQUFOLFVBQU8sR0FBVyxFQUFFLElBQWlCLEVBQUUsUUFBMkM7UUFBbEYsaUJBU0M7UUFSRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHO1lBQ3pDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ04sUUFBUSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUN2QixDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0YsS0FBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztZQUMxRCxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0wsb0JBQUM7QUFBRCxDQWpDQSxBQWlDQyxJQUFBO0FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUUzQixpQkFBUyxhQUFhLENBQUMiLCJmaWxlIjoiYXBpL2J1c2luZXNzL0FsYnVtQnVzaW5lc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSUFsYnVtQnVzaW5lc3MgPSByZXF1aXJlKFwiLi9pbnRlcmZhY2VzL0FsYnVtQnVzaW5lc3NcIik7XG5pbXBvcnQgSUFsYnVtTW9kZWwgPSByZXF1aXJlKFwiLi8uLi9tb2RlbHMvaW50ZXJmYWNlcy9BbGJ1bU1vZGVsXCIpO1xuaW1wb3J0IEFsYnVtUmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLy4uL3JlcG9zaXRvcmllcy9BbGJ1bVJlcG9zaXRvcnlcIik7XG5cbmNsYXNzIEFsYnVtQnVzaW5lc3MgaW1wbGVtZW50cyBJQWxidW1CdXNpbmVzcyB7XG4gICAgcHJpdmF0ZSBfYWxidW1SZXBvc2l0b3J5OiBBbGJ1bVJlcG9zaXRvcnk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fYWxidW1SZXBvc2l0b3J5ID0gbmV3IEFsYnVtUmVwb3NpdG9yeSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZShpdGVtOiBJQWxidW1Nb2RlbCwgY2FsbGJhY2s6IChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLl9hbGJ1bVJlcG9zaXRvcnkuY3JlYXRlKGl0ZW0sIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBkZWxldGUoX2lkOiBzdHJpbmcsIGNhbGxiYWNrOiAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5fYWxidW1SZXBvc2l0b3J5LmRlbGV0ZShfaWQsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBmaW5kQnlJZChfaWQ6IHN0cmluZywgY2FsbGJhY2s6IChlcnJvcjogYW55LCByZXN1bHQ6IElBbGJ1bU1vZGVsKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX2FsYnVtUmVwb3NpdG9yeS5maW5kQnlJZChfaWQsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZXRyaWV2ZShjYWxsYmFjazogKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX2FsYnVtUmVwb3NpdG9yeS5yZXRyaWV2ZShjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdXBkYXRlKF9pZDogc3RyaW5nLCBpdGVtOiBJQWxidW1Nb2RlbCwgY2FsbGJhY2s6IChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLl9hbGJ1bVJlcG9zaXRvcnkuZmluZEJ5SWQoX2lkLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGJ1bVJlcG9zaXRvcnkudXBkYXRlKHJlcy5faWQsIGl0ZW0sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5PYmplY3Quc2VhbChBbGJ1bUJ1c2luZXNzKTtcblxuZXhwb3J0ID0gQWxidW1CdXNpbmVzczsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
