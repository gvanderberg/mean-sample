"use strict";
var mongoose = require("mongoose");
var BaseRepository = (function () {
    function BaseRepository(schemaModel) {
        this._model = schemaModel;
    }
    BaseRepository.prototype.create = function (item, callback) {
        this._model.create(item, callback);
    };
    BaseRepository.prototype.delete = function (_id, callback) {
        this._model.remove({ _id: this.toObjectId(_id) }, function (err) { return callback(err, null); });
    };
    BaseRepository.prototype.findById = function (_id, callback) {
        this._model.findById(_id, callback);
    };
    BaseRepository.prototype.retrieve = function (callback) {
        this._model.find({}, callback);
    };
    BaseRepository.prototype.update = function (_id, item, callback) {
        this._model.update({ _id: _id }, item, callback);
    };
    BaseRepository.prototype.toObjectId = function (_id) {
        return mongoose.Types.ObjectId.createFromHexString(_id);
    };
    return BaseRepository;
}());
module.exports = BaseRepository;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS9yZXBvc2l0b3JpZXMvaW50ZXJmYWNlcy9iYXNlL0Jhc2VSZXBvc2l0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFPLFFBQVEsV0FBVyxVQUFVLENBQUMsQ0FBQztBQUl0QztJQUdJLHdCQUFZLFdBQThDO1FBQ3RELElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDO0lBQzlCLENBQUM7SUFFRCwrQkFBTSxHQUFOLFVBQU8sSUFBTyxFQUFFLFFBQTJDO1FBQ3ZELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQsK0JBQU0sR0FBTixVQUFPLEdBQVcsRUFBRSxRQUEyQztRQUMzRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsVUFBQyxHQUFHLElBQUssT0FBQSxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFuQixDQUFtQixDQUFDLENBQUM7SUFDcEYsQ0FBQztJQUVELGlDQUFRLEdBQVIsVUFBUyxHQUFXLEVBQUUsUUFBeUM7UUFDM0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxpQ0FBUSxHQUFSLFVBQVMsUUFBMkM7UUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFBO0lBQ2xDLENBQUM7SUFFRCwrQkFBTSxHQUFOLFVBQU8sR0FBNEIsRUFBRSxJQUFPLEVBQUUsUUFBMkM7UUFDckYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFTyxtQ0FBVSxHQUFsQixVQUFtQixHQUFXO1FBQzFCLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUMzRCxDQUFDO0lBQ0wscUJBQUM7QUFBRCxDQTlCQSxBQThCQyxJQUFBO0FBRUQsaUJBQVMsY0FBYyxDQUFDIiwiZmlsZSI6ImFwaS9yZXBvc2l0b3JpZXMvaW50ZXJmYWNlcy9iYXNlL0Jhc2VSZXBvc2l0b3J5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuaW1wb3J0IElSZWFkUmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLy4uL2NvbW1vbi9SZWFkUmVwb3NpdG9yeVwiKTtcbmltcG9ydCBJV3JpdGVSZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4vLi4vY29tbW9uL1dyaXRlUmVwb3NpdG9yeVwiKTtcblxuY2xhc3MgQmFzZVJlcG9zaXRvcnk8VCBleHRlbmRzIG1vbmdvb3NlLkRvY3VtZW50PiBpbXBsZW1lbnRzIElSZWFkUmVwb3NpdG9yeTxUPiwgSVdyaXRlUmVwb3NpdG9yeTxUPiB7XG4gICAgcHJvdGVjdGVkIF9tb2RlbDogbW9uZ29vc2UuTW9kZWw8bW9uZ29vc2UuRG9jdW1lbnQ+O1xuXG4gICAgY29uc3RydWN0b3Ioc2NoZW1hTW9kZWw6IG1vbmdvb3NlLk1vZGVsPG1vbmdvb3NlLkRvY3VtZW50Pikge1xuICAgICAgICB0aGlzLl9tb2RlbCA9IHNjaGVtYU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZShpdGVtOiBULCBjYWxsYmFjazogKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLmNyZWF0ZShpdGVtLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZGVsZXRlKF9pZDogc3RyaW5nLCBjYWxsYmFjazogKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLnJlbW92ZSh7IF9pZDogdGhpcy50b09iamVjdElkKF9pZCkgfSwgKGVycikgPT4gY2FsbGJhY2soZXJyLCBudWxsKSk7XG4gICAgfVxuXG4gICAgZmluZEJ5SWQoX2lkOiBzdHJpbmcsIGNhbGxiYWNrOiAoZXJyb3I6IGFueSwgcmVzdWx0OiBUKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLmZpbmRCeUlkKF9pZCwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHJldHJpZXZlKGNhbGxiYWNrOiAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5fbW9kZWwuZmluZCh7fSwgY2FsbGJhY2spXG4gICAgfVxuXG4gICAgdXBkYXRlKF9pZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQsIGl0ZW06IFQsIGNhbGxiYWNrOiAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5fbW9kZWwudXBkYXRlKHsgX2lkOiBfaWQgfSwgaXRlbSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHByaXZhdGUgdG9PYmplY3RJZChfaWQ6IHN0cmluZyk6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkIHtcbiAgICAgICAgcmV0dXJuIG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLmNyZWF0ZUZyb21IZXhTdHJpbmcoX2lkKVxuICAgIH1cbn1cblxuZXhwb3J0ID0gQmFzZVJlcG9zaXRvcnk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
