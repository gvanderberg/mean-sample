"use strict";
var mongoose = require("mongoose");
var BaseRepository = (function () {
    function BaseRepository(schemaModel) {
        this._model = schemaModel;
    }
    BaseRepository.prototype.create = function (item, callback) {
        this._model.create(item, callback);
    };
    BaseRepository.prototype.delete = function (_id, callback) {
        this._model.remove({ _id: this.toObjectId(_id) }, function (err) { return callback(err, null); });
    };
    BaseRepository.prototype.findById = function (_id, callback) {
        this._model.findById(_id, callback);
    };
    BaseRepository.prototype.retrieve = function (callback) {
        this._model.find({}, callback);
    };
    BaseRepository.prototype.update = function (_id, item, callback) {
        this._model.update({ _id: _id }, item, callback);
    };
    BaseRepository.prototype.toObjectId = function (_id) {
        return mongoose.Types.ObjectId.createFromHexString(_id);
    };
    return BaseRepository;
}());
module.exports = BaseRepository;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS9yZXBvc2l0b3JpZXMvaW50ZXJmYWNlcy9iYXNlL0Jhc2VSZXBvc2l0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFPLFFBQVEsV0FBVyxVQUFVLENBQUMsQ0FBQztBQUl0QztJQUdJLHdCQUFZLFdBQThDO1FBQ3RELElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDO0lBQzlCLENBQUM7SUFFRCwrQkFBTSxHQUFOLFVBQU8sSUFBTyxFQUFFLFFBQTJDO1FBQ3ZELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQsK0JBQU0sR0FBTixVQUFPLEdBQVcsRUFBRSxRQUEyQztRQUMzRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsVUFBQyxHQUFHLElBQUssT0FBQSxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFuQixDQUFtQixDQUFDLENBQUM7SUFDcEYsQ0FBQztJQUVELGlDQUFRLEdBQVIsVUFBUyxHQUFXLEVBQUUsUUFBeUM7UUFDM0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxpQ0FBUSxHQUFSLFVBQVMsUUFBMkM7UUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFBO0lBQ2xDLENBQUM7SUFFRCwrQkFBTSxHQUFOLFVBQU8sR0FBNEIsRUFBRSxJQUFPLEVBQUUsUUFBMkM7UUFDckYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFTyxtQ0FBVSxHQUFsQixVQUFtQixHQUFXO1FBQzFCLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUMzRCxDQUFDO0lBQ0wscUJBQUM7QUFBRCxDQTlCQSxBQThCQyxJQUFBO0FBRUQsaUJBQVMsY0FBYyxDQUFDIiwiZmlsZSI6ImFwaS9yZXBvc2l0b3JpZXMvaW50ZXJmYWNlcy9iYXNlL0Jhc2VSZXBvc2l0b3J5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuaW1wb3J0IElSZWFkUmVwb3NpdG9yeSA9IHJlcXVpcmUoXCIuLy4uL2NvbW1vbi9SZWFkUmVwb3NpdG9yeVwiKTtcbmltcG9ydCBJV3JpdGVSZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4vLi4vY29tbW9uL1dyaXRlUmVwb3NpdG9yeVwiKTtcblxuY2xhc3MgQmFzZVJlcG9zaXRvcnk8VCBleHRlbmRzIG1vbmdvb3NlLkRvY3VtZW50PiBpbXBsZW1lbnRzIElSZWFkUmVwb3NpdG9yeTxUPiwgSVdyaXRlUmVwb3NpdG9yeTxUPiB7XG4gICAgcHJpdmF0ZSBfbW9kZWw6IG1vbmdvb3NlLk1vZGVsPG1vbmdvb3NlLkRvY3VtZW50PjtcblxuICAgIGNvbnN0cnVjdG9yKHNjaGVtYU1vZGVsOiBtb25nb29zZS5Nb2RlbDxtb25nb29zZS5Eb2N1bWVudD4pIHtcbiAgICAgICAgdGhpcy5fbW9kZWwgPSBzY2hlbWFNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoaXRlbTogVCwgY2FsbGJhY2s6IChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLl9tb2RlbC5jcmVhdGUoaXRlbSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGRlbGV0ZShfaWQ6IHN0cmluZywgY2FsbGJhY2s6IChlcnJvcjogYW55LCByZXN1bHQ6IGFueSkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLl9tb2RlbC5yZW1vdmUoeyBfaWQ6IHRoaXMudG9PYmplY3RJZChfaWQpIH0sIChlcnIpID0+IGNhbGxiYWNrKGVyciwgbnVsbCkpO1xuICAgIH1cblxuICAgIGZpbmRCeUlkKF9pZDogc3RyaW5nLCBjYWxsYmFjazogKGVycm9yOiBhbnksIHJlc3VsdDogVCkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLl9tb2RlbC5maW5kQnlJZChfaWQsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZXRyaWV2ZShjYWxsYmFjazogKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLmZpbmQoe30sIGNhbGxiYWNrKVxuICAgIH1cblxuICAgIHVwZGF0ZShfaWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLCBpdGVtOiBULCBjYWxsYmFjazogKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLnVwZGF0ZSh7IF9pZDogX2lkIH0sIGl0ZW0sIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRvT2JqZWN0SWQoX2lkOiBzdHJpbmcpOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCB7XG4gICAgICAgIHJldHVybiBtb25nb29zZS5UeXBlcy5PYmplY3RJZC5jcmVhdGVGcm9tSGV4U3RyaW5nKF9pZClcbiAgICB9XG59XG5cbmV4cG9ydCA9IEJhc2VSZXBvc2l0b3J5OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
